<!-- SPDX-License-Identifier: AGPL-3.0-or-later -->
<ng-container *ngIf="messagesGroupedByDate$ | async as messages">
  <ng-container *ngFor="let entry of messages; trackBy: trackByIndex">
    <div class="chat-messages-date-group">
      {{
        entry.date
          | date: chatService.translations.dateFormat : undefined : chatService.translations.locale
      }}
    </div>
    <ng-container *ngFor="let message of entry.messages; trackBy: trackByMessage">
      <ngx-chat-message-in
        *ngIf="message.direction === Direction.in"
        [showAvatar]="showAvatars"
        [message]="message"
        [contact]="contact"
      />
      <ngx-chat-message-out
        *ngIf="message.direction === Direction.out"
        [showAvatar]="showAvatars"
        [message]="message"
        [contact]="contact"
      />
    </ng-container>
  </ng-container>
</ng-container>
